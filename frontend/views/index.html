<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
</head>
<body>

    <div id="login" style="display: block;">

        <input id="loginUsername" type="text" placeholder="username"><br>
        <input id="loginPassword" type="password" placeholder="password"><br>

        <button id="onLogin" onclick="onLogin();">Login</button><br>

        <span>Don't have an account?</span>
        <a href="#" onclick="return toggle();">Sign Up Now</a>

    </div>

    <div id="signUp" style="display: none;">

        <input id="signUpUsername" type="text" placeholder="username"><br>
        <input id="signUpEmail" type="text" placeholder="email"><br>
        <input id="signUpPassword" type="password" placeholder="password"><br>
        <input id="signUpConfirm" type="password" placeholder="confirm password"><br>

        <button id="onSignUp" onclick="onSignUp();">Sign Up</button><br>

        <span>Already have an account?</span>
        <a href="#" onclick="return toggle();">Login</a>

    </div>

    <!-- temporary script tag, will move at later date --> 
    <script> 

        
    </script> 

    <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
    <script>
        var socket = io();
       
        // emit
        const onSignUp = () => {
            socket.emit('onSignUp',{

                username: document.getElementById('signUpUsername').value,
                email: document.getElementById('signUpEmail').value,
                password: document.getElementById('signUpPassword').value,
                confirmPass: document.getElementById('signUpConfirm').value

            });
        }

        const onLogin = () => {
            socket.emit('onLogin',{
                
                username: document.getElementById('loginUsername').value,
                password: document.getElementById('loginPassword').value

            });
        }
       
        // recieve
        socket.on('serverMsg',function(data){
            console.log(data.msg); 
        });

        socket.on('signUpResponse',function(data){
            if(data.success){
                alert("Sign up successul.");
                hideAuth();
            } else
                alert("Sign up unsuccessul.");
        });

        socket.on('signInResponse',function(data){
            if(data.success){
                hideAuth();
            } else
                alert("Sign in unsuccessul.");
        });


        // functions
        const toggle = () => { 

            if(document.getElementById('login').style.display=='none') { 
                document.getElementById('login').style.display='block'; 
            } 
            else if (document.getElementById('login').style.display=='block') { 
                document.getElementById('login').style.display='none'; 
            } 
            if(document.getElementById('signUp').style.display=='none') { 
                document.getElementById('signUp').style.display='block'; 
            } 
            else if (document.getElementById('signUp').style.display=='block') { 
                document.getElementById('signUp').style.display='none'; 
            }
            return false;
        }

        const hideAuth = () => {

            document.getElementById('login').style.display='none';
            document.getElementById('signUp').style.display='none';
        }
     
       
    </script>


</body>
</html>


